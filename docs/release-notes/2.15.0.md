# Percona Monitoring and Management 2.15.0

<table class="docutils field-list" frame="void" rules="none">
  <colgroup>
    <col class="field-name">
    <col class="field-body">
  </colgroup>
  <tbody valign="top">
    <tr class="field-odd field">
      <th class="field-name">Date:</th>
      <td class="field-body">February 23, 2021</td>
    </tr>
    <tr class="field-even field">
      <th class="field-name">Installation:</th>
      <td class="field-body">
        <a class="reference external" href="https://www.percona.com/software/pmm/quickstart">Installing Percona Monitoring and Management</a></td>
    </tr>
  </tbody>
</table>

Percona Monitoring and Management (PMM) is a free and open-source platform for managing and monitoring MySQL, MongoDB, and PostgreSQL performance.

## New Features

* [PMM-4172](https://jira.percona.com/browse/PMM-4172): Ability to execute `pt-mysql-summary` for MySQL service (API)
* [PMM-4306](https://jira.percona.com/browse/PMM-4306): Ability to execute `pt-mongodb-summary` for MongoDB service (API)
* [PMM-5784](https://jira.percona.com/browse/PMM-5784): Ability to execute `pt-pg-summary` for PostgreSQL service (API)
* [PMM-7123](https://jira.percona.com/browse/PMM-7123): Add `external-serverless` instances (UI)
* [PMM-7405](https://jira.percona.com/browse/PMM-7405): Check connection response format when adding External Service to monitoring
* [PMM-7177](https://jira.percona.com/browse/PMM-7177): Dashboards: New Grafana panel combining `pt-mysql-summary`, `pt-mongodb-summary`, `pt-pg-summary` outputs
* [PMM-7419](https://jira.percona.com/browse/PMM-7419): DBaaS: Ability to see DB Cluster creation/modification logs
* [PMM-6797](https://jira.percona.com/browse/PMM-6797): HAProxy monitoring: Ability to add HAProxy services with `pmm-admin [inventory] add [service] haproxy` command
* [PMM-7487](https://jira.percona.com/browse/PMM-7487): HAProxy monitoring: Check connection to HAProxy services when adding them for monitoring (CLI, UI)
* [PMM-7496](https://jira.percona.com/browse/PMM-7496): HAProxy monitoring: New HAProxy PXC dashboards
* [PMM-6943](https://jira.percona.com/browse/PMM-6943): HAProxy monitoring: Show HAProxy type services in PMM Inventory (UI)
* [PMM-6924](https://jira.percona.com/browse/PMM-6924): Integrated Alerting : Show 'breadcrumbs' navigation aid on non-dashboard pages as well as Grafana dashboard pages
* [PMM-7294](https://jira.percona.com/browse/PMM-7294): Integrated Alerting: Pagination device for viewing large numbers of Alert Rules (UI)
* [PMM-7417](https://jira.percona.com/browse/PMM-7417): Security Threat Tool: Show list of all available security checks
* [PMM-7418](https://jira.percona.com/browse/PMM-7418): Security Threat Tool: Ability to disable specific security checks



## Improvements

* [PMM-5533](https://jira.percona.com/browse/PMM-5533): Better indentation of columns in `pmm-admin list` output
* [PMM-7240](https://jira.percona.com/browse/PMM-7240): DBaaS: Change from Dashboard to Grafana Page -- We changed the DBaaS page from a Grafana Dashboard to a Grafana Page to be better aligned with the DBaaS enable/disable status and avoid confusion when DBaaS is disabled.
* [PMM-4679](https://jira.percona.com/browse/PMM-4679): Docker: Tag `pmm-server`, `pmm-client` images with `:latest` -- Docker images for `pmm-client` and `pmm-server` are tagged `:latest` for the most recent release. **These should not** be used in production environments. Instead, use the `:2` tag.
* [PMM-5888](https://jira.percona.com/browse/PMM-5888): Improve `pmm-admin --help` descriptions for external services
* [PMM-6693](https://jira.percona.com/browse/PMM-6693): pmm-managed denies request when using API keys even if the role set is admin -- The PMM API will now accept requests not only with username/password but also with API tokens generated in Grafana.
* [PMM-6695](https://jira.percona.com/browse/PMM-6695): Components update: Update Grafana 7.1.3 to 7.3.7 (See [What's new in Grafana 7.2](https://grafana.com/docs/grafana/latest/whatsnew/whats-new-in-v7-2) and [What's new in Grafana 7.3](https://grafana.com/docs/grafana/latest/whatsnew/whats-new-in-v7-3/).)
* [PMM-6711](https://jira.percona.com/browse/PMM-6711): Add filter for `external_group` in `pmm-managed` services list (API)
* [PMM-7257](https://jira.percona.com/browse/PMM-7257): Integrated Alerting: Easier-to-read rule details in Alert Rules list (API to expose Alert Rule's expression and real values)
* [PMM-7259](https://jira.percona.com/browse/PMM-7259): Integrated Alerting: 'Alerting is disabled' message gives hint to enable it
* [PMM-7328](https://jira.percona.com/browse/PMM-7328): Security Threat Tool: Download and run checks when activated, immediately, repeating every 24 hours thereafter (Previously, downloading and running new checks happened every 24 hours but the cycle didn't begin when STT was activated.)
* [PMM-7329](https://jira.percona.com/browse/PMM-7329): Security Threat Tool: Hide check results tab if STT is disabled
* [PMM-7331](https://jira.percona.com/browse/PMM-7331): Security Threat Tool: Failed checks have 'Read more' links with helpful content
* [PMM-7422](https://jira.percona.com/browse/PMM-7422): Security Threat Tool: View all active and silenced alerts
* [PMM-7471](https://jira.percona.com/browse/PMM-7471): Components update: Update VictoriaMetrics 1.52.0 to 1.53.1 (See [VictoriaMetrics 1.53.0](https://github.com/VictoriaMetrics/VictoriaMetrics/releases/tag/v1.53.0) and [VictoriaMetrics 1.53.1](https://github.com/VictoriaMetrics/VictoriaMetrics/releases/tag/v1.53.1).)
* [PMM-7472](https://jira.percona.com/browse/PMM-7472): Remove Prometheus datasource -- If you were using custom dashboards with a specified Datasource (not using empty to use default one) you may need to edit your dashboards to use the proper Datasource. PMM is no longer using Prometheus but uses compatible storage for metrics from VictoriaMetrics. We renamed the datasource to be more technology-agnostic.



## Bugs Fixed

* [PMM-7416](https://jira.percona.com/browse/PMM-7416): Dashboards: PostgreSQL Instance Summary: Some panels (e.g. Tuple) not using selected database
* [PMM-7325](https://jira.percona.com/browse/PMM-7325): Dashboards: MySQL User Details: user labels unreadable with high number (>20) of users (Thanks to Andrei Fedorov for reporting this issue)
* [PMM-7250](https://jira.percona.com/browse/PMM-7250): DBaaS: Confusing error "Cannot get PSMDB/PXC cluster" appears after removing DB cluster
* [PMM-7349](https://jira.percona.com/browse/PMM-7349): DBaaS: Host and Password occasionally disappearing from Connection column
* [PMM-5837](https://jira.percona.com/browse/PMM-5837): `pmm-agent` reports "Malformed DSN" error when adding PostgreSQL instance with a PMM user password containing `=` (equals sign) (Thanks to Alexandre Barth for reporting this issue)
* [PMM-5969](https://jira.percona.com/browse/PMM-5969): Removing Services or Nodes with `pmm-admin ... --force` mode does not stop running agents, VictoriaMetrics continues collecting data from exporters
* [PMM-6636](https://jira.percona.com/browse/PMM-6636): MySQL Replication Summary Dashboard: 'Binlog Size', 'Binlog Data Written Hourly', 'Node' not being charted when the instance is RDS
* [PMM-6681](https://jira.percona.com/browse/PMM-6681): Not all PMM admin users can download diagnostic logs, only those with Grafana admin rights
* [PMM-6685](https://jira.percona.com/browse/PMM-6685): In low screen resolutions Services submenu wraps, becomes obscured, and can't be accessed
* [PMM-7227](https://jira.percona.com/browse/PMM-7227): Table stats metrics not being collected in instances with millions of tables
* [PMM-7426](https://jira.percona.com/browse/PMM-7426): `vmagent` continually restarts, blocking comms between `pmm-agent` & `pmm-managed` -- Users running multiple services on the same PMM agent in 'push' mode could face this issue when restarting the agent after bulk-adding services.
* [PMM-7470](https://jira.percona.com/browse/PMM-7470): MongoDB exporter `IndexStatsCollections` is assigned values from wrong flag (Thanks to Tim for reporting this issue)
* [PMM-7119](https://jira.percona.com/browse/PMM-7119): Integrated Alerting: Update error notification for adding/update Alert rule Template -- There was inconsistent behavior if you tried to add a new Rule Template with an already-used name.
* [PMM-7235](https://jira.percona.com/browse/PMM-7235): Integrated Alerting: Filtered out alerts are shown in the UI as firing
* [PMM-7324](https://jira.percona.com/browse/PMM-7324): Integrated Alerting: Add Pager Duty Notification Channel: after user pastes copied key Add button is not enabled
* [PMM-7366](https://jira.percona.com/browse/PMM-7366): Integrated Alerting: Entities (e.g. templates, channels, rules) are in inconsistent states
* [PMM-7467](https://jira.percona.com/browse/PMM-7467): Integrated Alerting: `<` (less-than symbol) wrongly interpreted by Alert templates (as `&lt;`)
* [PMM-7530](https://jira.percona.com/browse/PMM-7530): Integrated Alerting: Alert rule with filter `service_name=pmm-server-postgresql` creates three alerts instead of one
* [PMM-7550](https://jira.percona.com/browse/PMM-7550): Integrated Alerting: Rule Templates: validation pop up is not shown for the failed rule template upload operation
* [PMM-7343](https://jira.percona.com/browse/PMM-7343): Security Threat Tool: Check results show previously failed checks after STT reenabled
* [PMM-7497](https://jira.percona.com/browse/PMM-7497): Security Threat Tool: User with viewer role sees 'STT disabled' instead of 'Insufficient access' (even when STT enabled)
